<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
<script type="text/javascript">
	var djConfig = { isDebug: true };
</script>
<script type="text/javascript" src="../../dojo/dojo.js"></script>
<script type="text/javascript" src="../widget/DataNavBar.js"></script>

<!-- Dojo is loaded, include the widget  -->
<script type="text/javascript">

	dojo.setModulePrefix('awl', '../awl');
	dojo.widget.manager.registerWidgetPackage('awl.widget');
	dojo.require("awl.widget.*");

var testObj = {
	openState:true,
	toggle: function() {
		if (this.openState) {
			this.closeDrawer();
			this.openState=false;
		}
		else {
			this.openDrawer();
			this.openState=true;
		}
	},
	closeDrawer: function(){
		// external event stub
		dojo.debug("testObj: Request drawer closed");
	},
	openDrawer: function(){
		// external event stub
		dojo.debug("testObj: Request drawer open");
	}
};

	
dojo.event.topic.registerPublisher("/requestNavDrawerOpen", 
										   testObj, 
										   testObj.openDrawer);										   
										   
dojo.event.topic.registerPublisher("/requestNavDrawerClose", 
										   testObj, 
										   testObj.closeDrawer);
										   
</script>
</head>

<body>
<div style="width:300px; height:20px; background-color:#FF0000; z-index:99"></div>
<div align="center">
<div dojoType="datanavbar" 
	 sensorId="0" 
	 podId="0"
	 gatewayId="0"
	 dateRange="24"
	 xmlTestFile="data\data.xml"
	 firstDateAvail="1144695600000">
</div>
</center>
<input type="submit" value="External Drawer Toggle" onClick="testObj.toggle()" />


<!--
<div dojoType="FloatingPane"
titleBarDisplay="none"
constrainToContainer="true"
hasShadow="true"
resizable="false"
displayMinimizeAction="false"
displayMaximizeAction="false"
displayCloseAction="true"
style="width: 169px; height: 200px; left: 200px; top:85px;">
<center>
<div dojoType="datepicker"></div>
<div>Close Window</div>
</center>
</div>
-->
					
</body>
</html>
